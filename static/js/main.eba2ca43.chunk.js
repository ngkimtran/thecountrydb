(this["webpackJsonpreact-country"]=this["webpackJsonpreact-country"]||[]).push([[0],{64:function(e,t,c){},65:function(e,t,c){},77:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),s=c(10),a=c.n(s),i=(c(64),c(65),c(21)),o=c(11),l=c(33),j=c.n(l),u=c(42),b=c(25),d=c(2),h=r.a.createContext(),p=function(e){var t=e.children,c=Object(n.useState)(!0),r=Object(b.a)(c,2),s=r[0],a=r[1],i=Object(n.useState)(""),o=Object(b.a)(i,2),l=o[0],p=o[1],O=Object(n.useState)([]),x=Object(b.a)(O,2),m=x[0],f=x[1],v=Object(n.useState)("All"),g=Object(b.a)(v,2),N=g[0],y=g[1],w=Object(n.useCallback)(Object(u.a)(j.a.mark((function e(){var t,c,n,r,s,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a(!0),""!==l){e.next=20;break}return e.prev=2,e.next=5,fetch("".concat("https://restcountries.eu/rest/v2/all"));case 5:return t=e.sent,e.next=8,t.json();case 8:"Not Found"===(c=e.sent).message?f([]):(n=c.map((function(e){return{name:e.name,population:e.population,region:e.region,capital:e.capital,id:e.numericCode,flag:e.flag}})),f("All"===N?n:n.filter((function(e){return e.region===N})))),a(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0),a(!1);case 17:return e.abrupt("return");case 20:return e.prev=20,e.next=23,fetch("".concat("https://restcountries.eu/rest/v2/name/").concat(l));case 23:return r=e.sent,e.next=26,r.json();case 26:"Not Found"===(s=e.sent).message?f([]):(i=s.map((function(e){return{name:e.name,population:e.population,region:e.region,capital:e.capital,id:e.numericCode,flag:e.flag}})),f("All"===N?i:i.filter((function(e){return e.region===N})))),a(!1),e.next=35;break;case 31:e.prev=31,e.t1=e.catch(20),console.log(e.t1),a(!1);case 35:return e.abrupt("return");case 36:case"end":return e.stop()}}),e,null,[[2,13],[20,31]])}))),[N,l]);return Object(n.useEffect)((function(){w()}),[N,l,w]),Object(d.jsx)(h.Provider,{value:{loading:s,countries:m,setSearchTerm:p,setFilterParam:y},children:t})},O=function(){return Object(n.useContext)(h)},x=c(112),m=c(113),f=c(114),v=c(53),g=c.n(v),N=function(){var e=O(),t=e.setSearchTerm,c=e.setFilterParam,r=Object(n.useRef)("");Object(n.useEffect)((function(){r.current.focus()}),[]);return Object(d.jsxs)("section",{className:"section search",children:[Object(d.jsx)("form",{className:"search-form",onSubmit:function(e){e.preventDefault()},children:Object(d.jsx)("div",{className:"form-control",children:Object(d.jsx)(x.a,{className:"form-input",inputRef:r,onChange:function(){t(r.current.value)},placeholder:"Search for a country...",InputProps:{startAdornment:Object(d.jsx)(f.a,{children:Object(d.jsx)(m.a,{children:Object(d.jsx)(g.a,{})})}),disableUnderline:!0}})})}),Object(d.jsx)("div",{className:"filter-wrapper",children:Object(d.jsx)("select",{onChange:function(e){c(e.target.value)},className:"filter-form",children:Object(d.jsxs)("optgroup",{children:[Object(d.jsx)("option",{value:"All",children:"Filter by Region"}),Object(d.jsx)("option",{value:"Africa",children:"Africa"}),Object(d.jsx)("option",{value:"Americas",children:"Americas"}),Object(d.jsx)("option",{value:"Asia",children:"Asia"}),Object(d.jsx)("option",{value:"Europe",children:"Europe"}),Object(d.jsx)("option",{value:"Oceania",children:"Oceania"})]})})})]})},y=c(54),w=function(e){var t=e.name,c=e.population,n=e.region,r=e.capital,s=e.flag;return Object(d.jsx)(i.b,{to:"/thecountrydb/country/".concat(t),children:Object(d.jsxs)("article",{className:"country",children:[Object(d.jsx)("div",{className:"img-container",children:Object(d.jsx)("img",{src:s,alt:t})}),Object(d.jsxs)("div",{className:"country-footer",children:[Object(d.jsx)("h3",{children:t}),Object(d.jsxs)("p",{children:[Object(d.jsx)("span",{className:"footer-data",children:"Population: "}),c]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("span",{className:"footer-data",children:"Region: "}),n]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("span",{className:"footer-data",children:"Capital: "}),r]})]})]})})},k=function(){return Object(d.jsx)("div",{className:"loader",children:"Now loading..."})},A=function(){var e=O(),t=e.setSearchTerm,c=e.countries,r=e.loading;return Object(n.useEffect)((function(){t("")}),[]),r?Object(d.jsx)(k,{}):c.length<1?Object(d.jsx)("h2",{className:"section-title",children:"No country found."}):Object(d.jsx)("section",{className:"section",children:Object(d.jsx)("div",{className:"countries-center",children:c.map((function(e){return Object(d.jsx)(w,Object(y.a)({},e),e.id)}))})})},S=function(){return Object(d.jsxs)("main",{children:[Object(d.jsx)(N,{}),Object(d.jsx)(A,{})]})},C=function(){return Object(d.jsx)("section",{className:"section error-page",children:Object(d.jsxs)("div",{className:"error-container",children:[Object(d.jsx)("h1",{children:"oops! it's a dead end."}),Object(d.jsx)(i.b,{to:"/thecountrydb/",className:"btn btn-primary",children:"back home"})]})})},E=function(){var e=Object(o.f)().name,t=Object(n.useState)(!1),c=Object(b.a)(t,2),r=c[0],s=c[1],a=Object(n.useState)(null),l=Object(b.a)(a,2),h=l[0],p=l[1];if(Object(n.useEffect)((function(){(function(){var t=Object(u.a)(j.a.mark((function t(){var c,n,r,a,i,o,l,u,b,d,h,O,x;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(!0),t.prev=1,t.next=4,fetch("".concat("https://restcountries.eu/rest/v2/name/").concat(e).concat("?fullText=true"));case 4:return c=t.sent,t.next=7,c.json();case 7:(n=t.sent)[0]?(r=n[0],a=r.nativeName,i=r.population,o=r.region,l=r.subregion,u=r.capital,b=r.topLevelDomain,d=r.currencies,h=r.languages,O=r.borders,x=r.flag,p({nativeName:a,population:i,region:o,subregion:l,capital:u,topLevelDomain:b,currencies:d,languages:h,borders:O,flag:x})):p(null),s(!1),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(1),console.log(t.t0),s(!1);case 16:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(){return t.apply(this,arguments)}})()()}),[e]),r)return Object(d.jsx)(k,{});if(h){var O=h.nativeName,x=h.population,m=h.region,f=h.subregion,v=h.capital,g=h.topLevelDomain,N=h.currencies,y=h.languages,w=h.borders,A=h.flag;return Object(d.jsxs)("section",{className:"section country-section",children:[Object(d.jsx)(i.b,{to:"/thecountrydb/",children:Object(d.jsxs)("button",{className:"btn btn-primary",children:[Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-arrow-left",viewBox:"0 0 16 16",children:Object(d.jsx)("path",{fillRule:"evenodd",d:"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"})}),Object(d.jsx)("span",{children:"back"})]})}),Object(d.jsxs)("div",{className:"item",children:[Object(d.jsx)("img",{src:A,alt:e}),Object(d.jsxs)("div",{className:"item-info",children:[Object(d.jsx)("h2",{className:"item-title",children:e}),Object(d.jsxs)("div",{className:"item-data",children:[Object(d.jsxs)("p",{children:[Object(d.jsx)("span",{children:"native name: "}),O]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("span",{children:"population: "}),x]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("span",{children:"region: "}),m]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("span",{children:"sub region: "}),f]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("span",{children:"capital: "}),v]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("span",{children:"top level domain: "}),g]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("span",{children:"currencies: "}),N[0].name]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("span",{children:"languages: "}),y.map((function(e,t){return Object(d.jsxs)(d.Fragment,{children:[e.name,t<y.length-1?",\xa0":""]})}))]})]}),Object(d.jsxs)("p",{className:"borders",children:[Object(d.jsx)("span",{children:"border countries: "}),Object(d.jsx)("div",{children:w.length<1?Object(d.jsx)("span",{children:"none"}):w.map((function(e,t){return Object(d.jsxs)("span",{className:"border",children:[e," "]},t)}))})]})]})]})]})}return Object(d.jsxs)("section",{className:"section country-section",children:[Object(d.jsx)("h2",{className:"section-title",children:"no country to display"}),Object(d.jsx)(i.b,{to:"/thecountrydb/",className:"btn btn-primary",children:"back home"})]})},F=function(){return Object(d.jsx)("nav",{className:"navbar",children:Object(d.jsx)("div",{className:"nav-center",children:Object(d.jsx)("h1",{children:"Where in the world?"})})})};var P=function(){return Object(d.jsx)("div",{class:"container",children:Object(d.jsxs)(i.a,{children:[Object(d.jsx)(F,{}),Object(d.jsxs)(o.c,{children:[Object(d.jsx)(o.a,{path:"/thecountrydb/",exact:!0,component:S}),Object(d.jsx)(o.a,{path:"/thecountrydb/country/:name",component:E}),Object(d.jsx)(o.a,{path:"*",component:C})]})]})})};a.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(p,{children:Object(d.jsx)(P,{})})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.eba2ca43.chunk.js.map